{"version":3,"sources":["redux/phonebook-actions.js","redux/phonebook-operations.js","redux/phonebook-selectors.js","components/phonebook/PhonebookForm.jsx","components/phonebook/PhonebookList.jsx","components/phonebook/Filter.jsx","redux/phonebook-reducer.js","redux/store.js","App.js","index.js"],"names":["fetchContactRequest","createAction","fetchContactSuccess","fetchContactError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","axios","defaults","baseURL","dispatch","get","then","data","catch","error","contact","post","id","delete","getContacts","state","phonebook","contacts","createSelector","filter","normalizedContactNames","toString","toLowerCase","name","includes","PhonebookForm","uuidv4","number","handleChange","event","currentTarget","value","setState","handleSubmit","preventDefault","handleCheckUniqueContact","props","onSubmit","reset","check","find","alert","className","this","type","pattern","title","required","onChange","Component","connect","phonebookSelectors","phonebookOperations","PhonebookList","fetchContacts","map","onClick","onRemove","getVisibleContacts","allContacts","e","target","createReducer","payload","loading","combineReducers","store","configureStore","reducer","phonebookReducer","devTools","process","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bf0deb3b.chunk.js","sourcesContent":["import { createAction } from \"@reduxjs/toolkit\";\n\nexport const fetchContactRequest = createAction(\"phonebook/fetchContactRequest\");\nexport const fetchContactSuccess = createAction(\"phonebook/fetchContactSuccess\");\nexport const fetchContactError = createAction(\"phonebook/fetchContactError\");\n\nexport const addContactRequest = createAction(\"phonebook/addContactRequest\");\nexport const addContactSuccess = createAction(\"phonebook/addContactSuccess\");\nexport const addContactError = createAction(\"phonebook/addContactError\");\n\nexport const deleteContactRequest = createAction(\"phonebook/deleteContactRequest\");\nexport const deleteContactSuccess = createAction(\"phonebook/deleteContactSuccess\");\nexport const deleteContactError = createAction(\"phonebook/deleteContactError\");\n\n\nexport const changeFilter = createAction(\"phonebook/changeFilter\");\n\n\n","import axios from \"axios\";\nimport {\n  fetchContactRequest,\n  fetchContactSuccess,\n  fetchContactError,\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n} from \"./phonebook-actions\";\n\naxios.defaults.baseURL = \"http://localhost:4444\";\n\nconst fetchContacts = () => (dispatch) => {\n  dispatch(fetchContactRequest());\n  return axios\n    .get(\"/contacts\")\n    .then(({data}) => dispatch(fetchContactSuccess(data)))\n    .catch((error) => dispatch(fetchContactError(error)));\n};\n\nconst addContact = (contact) => (dispatch) => {\n  dispatch(addContactRequest());\n  return axios\n    .post(\"/contacts\", contact)\n    .then(({ data }) => dispatch(addContactSuccess(data)))\n    .catch((error) => dispatch(addContactError(error)));\n};\n\nconst deleteContact = (id) => (dispatch) => {\n  dispatch(deleteContactRequest());\n  return axios\n    .delete(`/contacts/${id}`)\n    .then(() => dispatch(deleteContactSuccess(id)))\n    .catch((error) => dispatch(deleteContactError(error)));\n};\n\nexport default { fetchContacts ,addContact, deleteContact };\n","import { createSelector } from \"@reduxjs/toolkit\";\n\nconst getContacts = (state) => state.phonebook.contacts;\n\nconst getFilter = (state) => state.phonebook.filter;\n\n// const getVisibleContacts = (state) => {\n//   const contacts = getContacts(state);\n//   const normalizedContactNames = getFilter(state).toString().toLowerCase();\n//   return contacts.filter((contact) =>\n//     contact.name.toLowerCase().includes(normalizedContactNames)\n//   );\n// };\n\nconst getVisibleContacts = createSelector(\n  [getContacts, getFilter],\n  (contacts, filter) => {\n    const normalizedContactNames = filter.toString().toLowerCase();\n    return contacts.filter((contact) =>\n    contact.name.toLowerCase().includes(normalizedContactNames))\n  }\n);\n\nexport default { getContacts, getVisibleContacts };\n","import { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport phonebookOperations from \"../../redux/phonebook-operations\";\nimport phonebookSelectors from '../../redux/phonebook-selectors'\nimport { v4 as uuidv4 } from \"uuid\";\n\nclass PhonebookForm extends Component {\n  state = {\n    id: uuidv4(),\n    name: \"\",\n    number: \"\",\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.currentTarget;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    if (this.handleCheckUniqueContact(this.state.name)) {\n      this.reset();\n      return;\n    }\n    this.props.onSubmit(this.state);\n    this.reset();\n  };\n\n  handleCheckUniqueContact = (name) => {\n    const check = this.props.contacts.find((contact) => {\n      return contact.name === name;\n    });\n    if (check) {\n      alert(\"Contact is already exist\");\n      return check;\n    }\n  };\n\n  reset = () => {\n    this.setState({ id: uuidv4(), name: \"\", number: \"\" });\n  };\n\n  render() {\n    return (\n      <form className={\"form\"} onSubmit={this.handleSubmit}>\n        <label>\n          Name\n          <input\n            type=\"text\"\n            name=\"name\"\n            pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n            title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n            required\n            value={this.state.name}\n            onChange={this.handleChange}\n          />\n        </label>\n        <label>\n          Number\n          <input\n            type=\"tel\"\n            name=\"number\"\n            pattern=\"(\\+?( |-|\\.)?\\d{1,2}( |-|\\.)?)?(\\(?\\d{3}\\)?|\\d{3})( |-|\\.)?(\\d{3}( |-|\\.)?\\d{4})\"\n            title=\"Номер телефона должен состоять из 11-12 цифр и может содержать цифры, пробелы, тире, пузатые скобки и может начинаться с +\"\n            required\n            value={this.state.number}\n            onChange={this.handleChange}\n          />\n        </label>\n        <button type=\"submit\">Add contact</button>\n      </form>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  contacts: phonebookSelectors.getContacts(state)\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  onSubmit: (contact) => {\n    dispatch(phonebookOperations.addContact(contact));\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PhonebookForm);\n","import { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport phonebookOperations from \"../../redux/phonebook-operations.js\";\n\nclass PhonebookList extends Component {\n  componentDidMount() {\n    this.props.fetchContacts();\n  }\n\n  render() {\n    return (\n      <ul>\n        {this.props.contacts.map((contact) => (\n          <li key={contact.id}>\n            <p>\n              📱 {contact.name}: {contact.number}\n            </p>\n            <button className='btnRemove'\n              onClick={() => {\n                this.props.onRemove(contact.id);\n              }}\n            >\n              Remove\n            </button>\n          </li>\n        ))}\n      </ul>\n    );\n  }\n}\n\nconst getVisibleContacts = (allContacts, filter) => {\n  const normalizedContactNames = filter.toString().toLowerCase();\n  return allContacts.filter((contact) =>\n    contact.name.toLowerCase().includes(normalizedContactNames)\n  );\n};\n\nconst mapStateToProps = ({ phonebook: { contacts, filter } }) => ({\n  contacts: getVisibleContacts(contacts, filter),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  fetchContacts: () => {\n    dispatch(phonebookOperations.fetchContacts());\n  },\n  onRemove: (id) => {\n    dispatch(phonebookOperations.deleteContact(id));\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PhonebookList);\n","import { connect } from \"react-redux\";\nimport { changeFilter } from \"../../redux/phonebook-actions\";\n\nconst Filter = ({ value, onChange }) => (\n  <label className={\"form\"}>\n    Find contacts by name\n    <input value={value} onChange={onChange} />\n  </label>\n);\n\nconst mapDispatchToProps = (dispatch) => ({\n  onChange: (e) => dispatch(changeFilter(e.target.value)),\n});\n\nexport default connect(null, mapDispatchToProps)(Filter);\n","import { createReducer } from \"@reduxjs/toolkit\";\nimport { combineReducers } from \"redux\";\nimport {\n  fetchContactRequest,\n  fetchContactSuccess,\n  fetchContactError,\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n  changeFilter\n} from \"./phonebook-actions\";\n\nconst contacts = createReducer([], {\n  [fetchContactSuccess]: (state, {payload}) => payload,\n  [addContactSuccess]: (state, { payload }) => [...state, payload],\n  [deleteContactSuccess]: (state, { payload }) =>\n    state.filter((contact) => contact.id !== payload),\n});\n\nconst loading = createReducer(false, {\n  [fetchContactRequest]: () => true,\n  [fetchContactSuccess]: () => false,\n  [fetchContactError]: () => false,\n  [addContactRequest]: () => true,\n  [addContactSuccess]: () => false,\n  [addContactError]: () => false,\n  [deleteContactRequest]: () => true,\n  [deleteContactSuccess]: () => false,\n  [deleteContactError]: () => false,\n});\n\nconst filter = createReducer(\"\", {\n  [changeFilter]: (state, { payload }) => payload,\n});\n\nexport default combineReducers({\n  contacts,\n  filter,\n  loading, \n});\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport phonebookReducer from './phonebook-reducer'\n\nconst store = configureStore({\n    reducer: {\n        phonebook: phonebookReducer\n    },\n    devTools: process.env.NODE_ENV === 'development'\n})\n\nexport default store;\n  ","import { Component } from \"react\";\nimport PhonebookForm from \"./components/phonebook/PhonebookForm\";\nimport PhonebookList from \"./components/phonebook/PhonebookList\";\nimport Filter from \"./components/phonebook/Filter\";\nimport \"./styles.css\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\n\nclass App extends Component {\n\n  changeFilter = (e) => {\n    this.setState({ filter: e.currentTarget.value });\n  };\n\n\n  render() {\n    return (\n      <Provider store={store}>\n        <div className={\"app\"}>\n          <h1>Phonebook</h1>\n          <PhonebookForm />\n          <h2>Contacts</h2>\n          <Filter />\n          <PhonebookList />\n        </div>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}